{"version":3,"sources":["../../js/statistics.js"],"names":["monthArray","rawDataIsLoading","totalPokemon","msPerMinute","spawnTimeMinutes","spawnTimeMs","loadRawData","$","ajax","url","type","data","val","dataType","beforeSend","complete","addElement","pokemonId","name","jQuery","id","class","appendTo","imageContainer","baseDetailContainer","href","target","title","text","onclick","processSeen","seen","i","total","shown","pokemon","sort","a","b","document","getElementById","order","options","selectedIndex","value","tmp","toLowerCase","length","item","percentage","toFixed","lastSeen","Date","getHours","getMinutes","slice","getSeconds","getDate","getMonth","getFullYear","location","html","toLocaleString","show","insertBefore","childNodes","push","indexOf","hide","innerHTML","updateStatMap","firstRun","duration","header","done","result","detailsLoading","appearancesTimesLoading","pokemonid","mapLoaded","detailsPersist","map","heatmap","heatmapPoints","mapData","appearances","loadDetails","loadAppearancesTimes","spawnpointId","showTimes","marker","appearanceTab","then","closeTimes","addListeners","addListener","initMap","google","maps","Map","zoom","center","lat","centerLat","lng","centerLng","fullscreenControl","streetViewControl","mapTypeControl","clickableIcons","mapTypeControlOptions","style","MapTypeControlStyle","DROPDOWN_MENU","position","ControlPosition","RIGHT_TOP","mapTypeIds","MapTypeId","ROADMAP","SATELLITE","HYBRID","styleNoLabels","StyledMapType","noLabelsStyle","mapTypes","set","styleDark","darkStyle","styleLight2","light2Style","stylePgo","pGoStyle","styleDarkNl","darkStyleNoLabels","styleLight2Nl","light2StyleNoLabels","stylePgoNl","pGoStyleNoLabels","stylePgoDay","pGoStyleDay","stylePgoNight","pGoStyleNight","currentDate","currentHour","stylePgoDynamic","s","Store","mapTypeId","setMapTypeId","get","event","redrawAppearances","resetMap","each","key","setMap","showOverlay","hash","updateDetails","closeOverlay","processAppearance","setupPokemonMarker","LatLng","weight","parseFloat","newMarker","times","appearancesTimes","saw","visualization","HeatmapLayer","radius","match","replace","select2","minimumResultsForSearch","Infinity","on"],"mappings":"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","file":"statistics.built.js","sourcesContent":["/* Shared */\nvar monthArray = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n\n/* Main stats page */\nvar rawDataIsLoading = false\nvar totalPokemon = 493\nvar msPerMinute = 60000\nvar spawnTimeMinutes = 15\nvar spawnTimeMs = msPerMinute * spawnTimeMinutes\n\nfunction loadRawData() {\n    return $.ajax({\n        url: '../../../raw_data.php',\n        type: 'GET',\n        data: {\n            'pokemon': false,\n            'pokestops': false,\n            'gyms': false,\n            'scanned': false,\n            'seen': true,\n            'duration': $('#duration').val()\n        },\n        dataType: 'json',\n        beforeSend: function () {\n            if (rawDataIsLoading) {\n                return false\n            } else {\n                rawDataIsLoading = true\n            }\n        },\n        complete: function () {\n            rawDataIsLoading = false\n        }\n    })\n}\n\nfunction addElement(pokemonId, name) {\n    jQuery('<div/>', {\n        id: 'seen_' + pokemonId,\n        class: 'item'\n    }).appendTo('#seen_container')\n\n    jQuery('<div/>', {\n        id: 'seen_' + pokemonId + '_base',\n        class: 'container'\n    }).appendTo('#seen_' + pokemonId)\n\n    var imageContainer = jQuery('<div/>', {\n        class: 'image'\n    }).appendTo('#seen_' + pokemonId + '_base')\n\n    jQuery('<i/>', {\n        class: 'pokemon-sprite n' + pokemonId\n    }).appendTo(imageContainer)\n\n    var baseDetailContainer = jQuery('<div/>', {\n        class: 'info'\n    }).appendTo('#seen_' + pokemonId + '_base')\n\n    jQuery('<div/>', {\n        id: 'name_' + pokemonId,\n        class: 'name'\n    }).appendTo(baseDetailContainer)\n\n    jQuery('<a/>', {\n        id: 'link_' + pokemonId,\n        href: 'http://www.pokemon.com/us/pokedex/' + pokemonId,\n        target: '_blank',\n        title: 'View in Pokedex',\n        text: name\n    }).appendTo('#name_' + pokemonId)\n\n    jQuery('<div/>', {\n        id: 'seen_' + pokemonId + '_details',\n        class: 'details'\n    }).appendTo('#seen_' + pokemonId)\n\n    jQuery('<div/>', {\n        id: 'count_' + pokemonId,\n        class: 'seen'\n    }).appendTo('#seen_' + pokemonId + '_details')\n\n    jQuery('<div/>', {\n        id: 'lastseen_' + pokemonId,\n        class: 'lastseen'\n    }).appendTo('#seen_' + pokemonId + '_details')\n\n    jQuery('<div/>', {\n        id: 'location_' + pokemonId,\n        class: 'location'\n    }).appendTo('#seen_' + pokemonId + '_details')\n\n    jQuery('<a/>', {\n        href: 'javascript:void(0);',\n        onclick: 'javascript:showOverlay(' + pokemonId + ');',\n        text: 'All Locations'\n    }).appendTo('#seen_' + pokemonId + '_details')\n}\n\nfunction processSeen(seen) {\n    var i\n    var total = seen.total\n    var shown = []\n\n    seen.pokemon.sort(function (a, b) {\n        var sort = document.getElementById('sort')\n        var order = document.getElementById('order')\n\n        if (order.options[order.selectedIndex].value === 'desc') {\n            var tmp = b\n            b = a\n            a = tmp\n        }\n\n        if (sort.options[sort.selectedIndex].value === 'id') {\n            return a['pokemon_id'] - b['pokemon_id']\n        } else if (sort.options[sort.selectedIndex].value === 'name') {\n            if (a['pokemon_name'].toLowerCase() < b['pokemon_name'].toLowerCase()) {\n                return -1\n            }\n            if (a['pokemon_name'].toLowerCase() > b['pokemon_name'].toLowerCase()) {\n                return 1\n            }\n            return 0\n        } else {\n            // Default to count\n            if (a['count'] === b['count']) { // Same count: order by id\n                return b['pokemon_id'] - a['pokemon_id']\n            }\n            return a['count'] - b['count']\n        }\n    })\n\n    for (i = seen.pokemon.length - 1; i >= 0; i--) {\n        var item = seen.pokemon[i]\n        var percentage = (item['count'] / total * 100).toFixed(4)\n        var lastSeen = new Date(item['disappear_time'])\n        lastSeen = lastSeen.getHours() + ':' +\n        ('0' + lastSeen.getMinutes()).slice(-2) + ':' +\n        ('0' + lastSeen.getSeconds()).slice(-2) + ' ' +\n        lastSeen.getDate() + ' ' +\n        monthArray[lastSeen.getMonth()] + ' ' +\n        lastSeen.getFullYear()\n        var location = (item['latitude'] * 1).toFixed(7) + ', ' + (item['longitude'] * 1).toFixed(7)\n        if (!$('#seen_' + item['pokemon_id']).length) {\n            addElement(item['pokemon_id'], item['pokemon_name'])\n        }\n        $('#count_' + item['pokemon_id']).html('<strong>Seen:</strong> ' + item['count'].toLocaleString() + ' (' + percentage + '%)')\n        $('#lastseen_' + item['pokemon_id']).html('<strong>Last Seen:</strong> ' + lastSeen)\n        $('#location_' + item['pokemon_id']).html('<strong>Location:</strong> ' + location)\n        $('#seen_' + item['pokemon_id']).show()\n        // Reverting to classic javascript here as it's supposed to increase performance\n        document.getElementById('seen_container').insertBefore(document.getElementById('seen_' + item['pokemon_id']), document.getElementById('seen_container').childNodes[0])\n        shown.push(item['pokemon_id'])\n    }\n\n    // Hide any unneeded items\n    for (i = 1; i <= totalPokemon; i++) {\n        if (shown.indexOf(i) < 0) {\n            $('#seen_' + i).hide()\n        }\n    }\n\n    document.getElementById('seen_total').innerHTML = 'Total: ' + total.toLocaleString()\n}\n\nfunction updateStatMap(firstRun) {\n    var duration = document.getElementById('duration')\n    var header = 'Pokemon Seen in ' + duration.options[duration.selectedIndex].text\n    if ($('#seen_header').html() !== header) {\n        $('#seen_container').hide()\n        $('#loading').show()\n        $('#seen_header').html('')\n        $('#seen_total').html('')\n    }\n    loadRawData().done(function (result) {\n        processSeen(result.seen)\n        if ($('#seen_header').html() !== header) {\n            $('#seen_header').html(header)\n            $('#loading').hide()\n            $('#seen_container').show()\n        }\n    })\n}\n\nupdateStatMap()\n\n/* Overlay */\nvar detailsLoading = false\nvar appearancesTimesLoading = false\nvar pokemonid = 0\nvar mapLoaded = false\nvar detailsPersist = false\nvar map = null\nvar heatmap = null\nvar heatmapPoints = []\nmapData.appearances = {}\n\nfunction loadDetails() {\n    return $.ajax({\n        url: '../../../raw_data.php',\n        type: 'GET',\n        data: {\n            'pokemon': false,\n            'pokestops': false,\n            'gyms': false,\n            'scanned': false,\n            'appearances': true,\n            'pokemonid': pokemonid,\n            'duration': $('#duration').val()\n        },\n        dataType: 'json',\n        beforeSend: function () {\n            if (detailsLoading) {\n                return false\n            } else {\n                detailsLoading = true\n            }\n        },\n        complete: function () {\n            detailsLoading = false\n        }\n    })\n}\n\nfunction loadAppearancesTimes(pokemonId, spawnpointId) {\n    return $.ajax({\n        url: '../../../raw_data.php',\n        type: 'GET',\n        data: {\n            'pokemon': false,\n            'pokestops': false,\n            'gyms': false,\n            'scanned': false,\n            'appearances': false,\n            'appearancesDetails': true,\n            'pokemonid': pokemonId,\n            'spawnpoint_id': spawnpointId,\n            'duration': $('#duration').val()\n        },\n        dataType: 'json',\n        beforeSend: function () {\n            if (appearancesTimesLoading) {\n                return false\n            } else {\n                appearancesTimesLoading = true\n            }\n        },\n        complete: function () {\n            appearancesTimesLoading = false\n        }\n    })\n}\n\nfunction showTimes(marker) {\n    appearanceTab(mapData.appearances[marker.spawnpointId]).then(function (value) {\n        $('#times_list').html(value)\n        $('#times_list').show()\n    })\n}\n\nfunction closeTimes() {\n    $('#times_list').hide()\n    detailsPersist = false\n}\n\nfunction addListeners(marker) { // eslint-disable-line no-unused-vars\n    marker.addListener('click', function () {\n        showTimes(marker)\n        detailsPersist = true\n    })\n\n    marker.addListener('mouseover', function () {\n        showTimes(marker)\n    })\n\n    marker.addListener('mouseout', function () {\n        if (!detailsPersist) {\n            $('#times_list').hide()\n        }\n    })\n\n    return marker\n}\n\n// Override map.js initMap\nfunction initMap() {\n    map = new google.maps.Map(document.getElementById('location_map'), {\n        zoom: 16,\n        center: {\n            lat: centerLat,\n            lng: centerLng\n        },\n        fullscreenControl: false,\n        streetViewControl: false,\n        mapTypeControl: true,\n        clickableIcons: false,\n        mapTypeControlOptions: {\n            style: google.maps.MapTypeControlStyle.DROPDOWN_MENU,\n            position: google.maps.ControlPosition.RIGHT_TOP,\n            mapTypeIds: [\n                google.maps.MapTypeId.ROADMAP,\n                google.maps.MapTypeId.SATELLITE,\n                google.maps.MapTypeId.HYBRID,\n                'nolabels_style',\n                'dark_style',\n                'style_light2',\n                'style_pgo',\n                'dark_style_nl',\n                'style_light2_nl',\n                'style_pgo_nl',\n                'style_pgo_day',\n                'style_pgo_night',\n                'style_pgo_dynamic'\n            ]\n        }\n    })\n\n    var styleNoLabels = new google.maps.StyledMapType(noLabelsStyle, {\n        name: 'No Labels'\n    })\n    map.mapTypes.set('nolabels_style', styleNoLabels)\n\n    var styleDark = new google.maps.StyledMapType(darkStyle, {\n        name: 'Dark'\n    })\n    map.mapTypes.set('dark_style', styleDark)\n\n    var styleLight2 = new google.maps.StyledMapType(light2Style, {\n        name: 'Light2'\n    })\n    map.mapTypes.set('style_light2', styleLight2)\n\n    var stylePgo = new google.maps.StyledMapType(pGoStyle, {\n        name: 'PokemonGo'\n    })\n    map.mapTypes.set('style_pgo', stylePgo)\n\n    var styleDarkNl = new google.maps.StyledMapType(darkStyleNoLabels, {\n        name: 'Dark (No Labels)'\n    })\n    map.mapTypes.set('dark_style_nl', styleDarkNl)\n\n    var styleLight2Nl = new google.maps.StyledMapType(light2StyleNoLabels, {\n        name: 'Light2 (No Labels)'\n    })\n    map.mapTypes.set('style_light2_nl', styleLight2Nl)\n\n    var stylePgoNl = new google.maps.StyledMapType(pGoStyleNoLabels, {\n        name: 'PokemonGo (No Labels)'\n    })\n    map.mapTypes.set('style_pgo_nl', stylePgoNl)\n\n    var stylePgoDay = new google.maps.StyledMapType(pGoStyleDay, {\n        name: 'PokemonGo Day'\n    })\n    map.mapTypes.set('style_pgo_day', stylePgoDay)\n\n    var stylePgoNight = new google.maps.StyledMapType(pGoStyleNight, {\n        name: 'PokemonGo Night'\n    })\n    map.mapTypes.set('style_pgo_night', stylePgoNight)\n\n    // dynamic map style chooses stylePgoDay or stylePgoNight depending on client time\n    var currentDate = new Date()\n    var currentHour = currentDate.getHours()\n    var stylePgoDynamic = (currentHour >= 6 && currentHour < 19) ? stylePgoDay : stylePgoNight\n    map.mapTypes.set('style_pgo_dynamic', stylePgoDynamic)\n\n    map.addListener('maptypeid_changed', function (s) {\n        Store.set('map_style', this.mapTypeId)\n    })\n\n    map.setMapTypeId(Store.get('map_style'))\n    google.maps.event.addListener(map, 'idle', updateStatMap)\n\n    mapLoaded = true\n\n    google.maps.event.addListener(map, 'zoom_changed', function () {\n        redrawAppearances(mapData.appearances)\n    })\n}\n\nfunction resetMap() {\n    $.each(mapData.appearances, function (key, value) {\n        mapData.appearances[key].marker.setMap(null)\n        delete mapData.appearances[key]\n    })\n\n    heatmapPoints = []\n    if (heatmap) {\n        heatmap.setMap(null)\n    }\n}\n\nfunction showOverlay(id) {\n    // Only load google maps once, and only if requested\n    if (!mapLoaded) {\n        initMap()\n    }\n    resetMap()\n    pokemonid = id\n    $('#location_details').show()\n    location.hash = 'overlay_' + pokemonid\n    updateDetails()\n\n    return false\n}\n\nfunction closeOverlay() { // eslint-disable-line no-unused-vars\n    $('#location_details').hide()\n    closeTimes()\n    location.hash = ''\n    return false\n}\n\nfunction processAppearance(i, item) {\n    var spawnpointId = item['spawnpoint_id']\n    if (!((spawnpointId) in mapData.appearances)) {\n        if (item['marker']) {\n            item['marker'].setMap(null)\n        }\n        item['marker'] = setupPokemonMarker(item, map, true)\n        addListeners(item['marker'])\n        item['marker'].spawnpointId = spawnpointId\n        mapData.appearances[spawnpointId] = item\n    }\n    heatmapPoints.push({location: new google.maps.LatLng(item['latitude'], item['longitude']), weight: parseFloat(item['count'])})\n}\n\nfunction redrawAppearances(appearances) {\n    $.each(appearances, function (key, value) {\n        var item = appearances[key]\n        if (!item['hidden']) {\n            var newMarker = setupPokemonMarker(item, map, true)\n            item['marker'].setMap(null)\n            addListeners(newMarker)\n            newMarker.spawnpointId = item['spawnpoint_id']\n            appearances[key].marker = newMarker\n        }\n    })\n}\n\nfunction appearanceTab(item) {\n    var times = ''\n    return loadAppearancesTimes(item['pokemon_id'], item['spawnpoint_id']).then(function (result) {\n        $.each(result.appearancesTimes, function (key, value) {\n            var saw = new Date(value - spawnTimeMs)\n            saw = saw.getHours() + ':' +\n                    ('0' + saw.getMinutes()).slice(-2) + ':' +\n                    ('0' + saw.getSeconds()).slice(-2) + ' ' +\n                    saw.getDate() + ' ' +\n                    monthArray[saw.getMonth()] + ' ' +\n                    saw.getFullYear()\n            times = '<div class=\"row' + (key % 2) + '\">' + saw + '</div>' + times\n        })\n        return `<div>\n                                <a href=\"javascript:closeTimes();\">Close this tab</a>\n                        </div>\n                        <div class=\"row1\">\n                                <strong>Lat:</strong> ${item['latitude'].toFixed(7)}\n                        </div>\n                        <div class=\"row0\">\n                                <strong>Long:</strong> ${item['longitude'].toFixed(7)}\n                        </div>\n                        <div class=\"row1\">\n                            <strong>Appearances:</strong> ${item['count'].toLocaleString()}\n                        </div>\n                        <div class=\"row0\"><strong>Times:</strong></div>\n                        <div>\n                                ${times}\n                        </div>`\n    })\n}\n\nfunction updateDetails() {\n    loadDetails().done(function (result) {\n        $.each(result.appearances, processAppearance)\n        if (heatmap) {\n            heatmap.setMap(null)\n        }\n        heatmap = new google.maps.visualization.HeatmapLayer({\n            data: heatmapPoints,\n            map: map,\n            radius: 50\n        })\n    })\n}\n\nif (location.href.match(/overlay_[0-9]+/g)) {\n    showOverlay(location.href.replace(/^.*overlay_([0-9]+).*$/, '$1'))\n}\n\n$('#nav select')\n    .select2({\n        minimumResultsForSearch: Infinity\n    })\n    .on('change', updateStatMap)\n"]}