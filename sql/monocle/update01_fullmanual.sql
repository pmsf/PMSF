ALTER TABLE `pokestops` DROP `quest_id`;
ALTER TABLE `pokestops` DROP `reward_id`;
ALTER TABLE `pokestops` ADD `quest_type` TINYINT(3) NULL DEFAULT NULL AFTER `edited_by`, ADD `quest_timestamp` INT(11) NULL DEFAULT NULL AFTER `quest_type`, ADD `quest_target` TINYINT(3) NULL DEFAULT NULL AFTER `quest_timestamp`, ADD `quest_conditions` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL AFTER `quest_target`, ADD `quest_rewards` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL AFTER `quest_conditions`, ADD `quest_pokemon_id` SMALLINT(4) AS (json_extract(json_extract(`quest_rewards`,'$[*].info.pokemon_id'),'$[0]')) VIRTUAL AFTER `quest_rewards`, ADD `quest_reward_type` SMALLINT(3) AS (json_extract(json_extract(`quest_rewards`,'$[*].type'),'$[0]')) VIRTUAL AFTER `quest_pokemon_id`, ADD `quest_item_id` SMALLINT(3) AS (json_extract(json_extract(`quest_rewards`,'$[*].info.item_id'),'$[0]')) VIRTUAL AFTER `quest_reward_type`;
